//                                                                                            ##.
//                                                             (##/.                       *##%(,
//                                                            (#%%#/                    ,(#%%%%(#,                       ,,.
//                                                           ##%%&%#(                  *(%%&&%#(#,                     *###*
//                            (%##/                        .(#%%%&%#((               ((%%%&&%%#((,                 ,(#%%%##*
//                            (##%%%##.                   ,##%%%&&&%#(%.          ,##%%&&&&&%#(((,              (#%&&&%%#(#*
//                             *##%%%%##*                *##%%&&&&&&%((,        /##%%&&&&&&%%#((((*        .,#%&&&&&%%#(((,
//                             /#(#%%%%%%%##,           ./##%&&&&&&&%#(#/.    ,(#%%%&&&&&&&%%#((((/.   ,(##%&&&&&&%%%#((#.
//                              ,(###%%%%%%%%#*/.       *##%%&&&&&&&&%((#(,./##%%%&&&&&&&&&%%#((#((//###%&&&&&&&&&%%#(((#.                 ,/***(#,
//                              ,((##%%%%%%%%%%#((*    /###%%&&&&&&&&&##((((#%%%%&&&&&&&&&&%#(((((###%%&&&&&&&&&&%##((((          *((//(##%%%%%##,
//                              *(/###%%%&&&&&&&%##(/#./###%&&&&&&&&&&%###%%#%&&&&&&&&&&&&%%#####%%&&&&&&&&&&&&%##(((((.(##(((##%%&%%%%%%%%##((
//                              ,((((##%%&&&&&&&&&%#((//(#%%&&&&&&&&&&&&%###%%&&&&&&&&&&&&&%%##%%%&&&&&&&&&&&&%%##((((((###%%%%%%%%&&&&&%%#((((
//    .((,,,                     .((#(#%%&&&&&&&&&&&%#(((#%&&&&&&&&&&&&&&%%%%&&&&&&&&&&&&&&&%%%&&&&&&&&&&&&&&%%##((((###%%%%%%%%%&&&&&%%#(((#/
//     .*##%%%%(////             ,(/#(##%%%&&&&&&&&&&%%##%%&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%%#(###%%%%%%%%%&&&&&&&%%#((((#*
//       ,(((#%%%%%%%%#((/       ,#/(((#%%%&&&&&&&&&&&&%%%&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%%#%%%%%%%%&&&&&&&&&&%%#(((((#,
//         #(((###%%%%%%%%%%###,  .(((((#%&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%%##((((((,
//          ((((((##%%%%%%%%%%%%%#(/((###%%&&&&&&&@&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%##(((((#(.
//            *((((((##%%%%%%%%%%%%%%%%%%%%&&&&&&&&@@&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%##((((((#/
//             .*((((((##%%%%%%&&&%&&&&&&&&&&&&&&&&&@@@&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%#((((((#(,       ///////////****,
//               ,(#((((((#%%%&&&&&&&&&&&&&&&&&&&&&&&@@@&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&@&&&&&&&&&&&&&&&&&&&&&&&&%%###########%%%%%%%%%%%###(((((((((
//                .(((((((((#%%&&&&&&&&&&&&&@&&&&&&&&&@@&&@&&&&&&&&@&&&&&&&&&&&&&&&&&&&&&&@@&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%%%%%%&&&&&&&%%%%%%%%%%%#((((((((#*
//                  (((((((((##%%&&&&&&&&&&&&@@@&&&&&&&@@&&@@&&&&&&@@&&&&&@&&&&&&&&&&&&&&&@&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%&&&&&&&&&&&&&&&%%%%%%##((((((((/.
// ****,,,,,,,,,/####///(((#####%%&&&&&&&&&&&&&@@@&&&&&&@@&&&&@@&&&&&&&&&@@@@&&&&&&&&&&&&@&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%%%%%##((((((((((*
//      ,(/((((((##%%%%%%&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&@&&&&&&&&&&&&&&&&&&&&&&&&&&&@@&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%%%%##((//((((((((,
//         /(((((((((##%%%%&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&-&&&&&&&&&&%%&&&&&&%%%#%&&&%%%%%%%&&&&%%%&&&&&&&&%%%###(((////(((((,.
//           ,((((((((((##%%%%&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%%&&&&&%%##%&&%%%%%%%%&&%%##%&&&&&&&&&&&%%%%%%####(((((((//(((,,*.
//               ,(((######%%%%%&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%%%&&&%%%###%%%%#%%%%%&%%##%%&&&&&&&&&&&&&&&%%%%%%%%%%%%%####(((((((/*//
//           /((##%##%%%%%%%%%%%%&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%%%%&&&%%####%%####%%%%%#(#%%&&%&&&&&&%%&&&&&&%%##################((((((((((((#(
//       ,#(#%%#%%%%%%%%%%%%%%%%%%%%%&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%%%%&&%%##########%%%%#((####((((#%&&&&%##%%&&&&%##((////////((((((((((((((((#/
//  ../##%##############%%%%%%%%%%%&&&&&&&&&%%%%%%%%%%%%%%%&&&&&&&&&&&&&&&&&&&&&&&&&&&&%%#%%%%%##(####((##%%##(((((((((((((#%&&%#((##%&&&%%#(/((((((((((((((/*//
// ##((((((((((((((((###%%%%%%&%%%&&&&&&%#((((#############%%%%&&&&&&&&&&&&&&&&&&&&%%%%%######((/////////////***********//(((#%%%#((((#%%%%%#(/(((((((,*
//   ........./##(/(#%%%%%%&&%%#%%&&&&%#(((((###(((((######((####((((//****,,,,,,,,,..,................................   .,/((#%#(((((((##%%#(/...
//             ,(#%%%%%%%%%#(((#%&&&%(((((###((//**,,,,,................,,,,,******************///////////////////**,.      .*((###//##((((####(#.
//           /(#%%%%%%##((((((#%&&%#((/..........,,,,***//((#%%%&&@@@@&&&&&%%%%############################((//##(///(/ ......./((#(, ./((((((##(#,
//        ,((#%%%###(((((((((/#%&%(((.  .  ,/######%%%&&@@@@@@@@&&&@&&&&%%%##############((((################((((//((((*....... ./((*    .*(((((#(#*
//      ,((####(((((((((((((,*#&%#(*.....,/%(*/*/((((#%&&@@@@@@@&&@@@&&&%%%###((////((##/,.,*(#############((##((((((((/. ......  ,//. ....,/((((((,
//    ,((((((((((((((#(((*...*#%#/,.....,/%#((////(((#%&@@@@@@@@&&@@&&&%%%#/*,**//////**.,/((((####((######((##((((((((/............,,....../((##((#*
//   (%*       *#####(//*....*##/,......,(%((/////((#%&&&@@@@@@@&&@@&&&&%/,*(#(((((((((##((((((((((((#####((((#(((((//((,. ................,/(##
//            /#%##(/#%#/,...,(*........,(%((/////(((#%&&@@@@@@@&&@@&&&(*,/%#((*.,*///*,*(##(((((((((#####((((#(((///(//...................,..(#
//           /#####(%##(/,............  ./#/***///(((#%&&@@@@@@@@@@@@&/,,*#%((,,#%(/,.((*,/##((((((((######(((#((((((((/...................,,
//          (##/.,####/**,............. ./#/*/(///(((#%&&@@@@@@@&@@@&/*,,*#%((/,,*/*,,((/,*(#((((((((######(((#(((((((//. ..... ....       ,,
//         ##%*  ,##,   .,.............../#(/////((#(#%&@@@@@@@@&@@%*,%%*,*#%((((///((((*,/##((((((((#####((((#((((((((/...................,,
//                      .,...............*#(//*///(#(#%&&@@@@@@@@&%//&%%%(,,*(#((((((/*,,/##(((((((((######(((#(((///((,. ................  */
//                      .*...............*(#/////((###%&&@@@@@@@@&%((///******,,,,***/(##((((((((((((###(#((((#((*/((//.  .......        ...,/(#
//                      */.............. .*#///*//(####%&@@@@@@@@@@@&&&%%%%####(((((((((((((((((((((//((##((((#((((((*.     .     ..... ..*(##((,
//                    ,***, ...............*((((((#%%##%&@@@@@@@@@@@@&&&%%%########(##((((((((((///(((/*//***,,,,.........       ...,*/(*(##/*/(#.
//                   (#%%#(,......,............,,,,,,,,,**********,***,,,,,,,,,,..............................     .....,,****//*/**/##//#(,*((((.
//                   ((((/*##//(#/,*///////////*******,.,*///*,,,*****************///***///////(/*/##(****,,.. ..,*/(##%%%%%%###((/*/((//,/(((((#.
//                    *##((*/#//((*/(######(#(((/**,,,......*/(##(/((#######(/(#######((#####((##(///*,   ..,,.. ./(/*. (%%%%%%##(//*///,,*(#####.
//                    /%%%#(*/(//(*(##%%%%%%%#,.,*//,..,....   .*(##########(#%%%%%%%%#(/////***/((*.   /%#*...,,..(&%#.(%&%%%%##((/*,/,,///(##%#*
//                    /%%%#//**////(##%%%%%%&(./%&%/ ,(#*...,,.   ,(//***///(%%%%%%%%%%%##(/*/##%(,,(* .,,.   .*//*#@@%*%%&&%%%#(((//((*,/(//##%#.
//                    /%%#(**/(///*(##%%%%%%&%,(&@%,..*,.   ,,*,.,,,#%%%(/*(%%%%%%%%%%%%%%%%%%%&%*/%&% .,**,,**//*(&@@&%%%%%%%##(((((##/,///(###
//                    /%%#/*((/*/(*(##%%%%%%%&%#&@&(.,***,,**/#&@@@%(%&&&%%%%%%%%%%%%%%%%%%%%%%&&%&&@@&*.,*****,.(&@@&#%%%%%%%#((((((/,/(/(###/
//                     *#(,/((//(#/(##%%%%%%%%%&&&@@%,.,**//*,.*%@@@&%&%%%%%%%%%%%%%%%%%%%%%%%%%%%%&&@@@@&#((#%@@@@%##%%%%%%%##((((*,*//(###(*
//                     ./#/,/(/**/(((##%%%%%%%%%%#(#@@&%#(((#%@@@&&%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%###############%%%%%%%%%###((/**/(#(/(#/.
//                       *##/*///**,/###%%%%%%%%%%%##((((#######%%%%%&%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%###((/**/(((#%#*
//                        .#####(/*,./##%%%%%%%%%%%%%%%%%%%%%%%%%%%%&%%%%%%%%%%%%%%%%%%%%%%%%%%%&&&%%&%%%%%%%%##((###%%%%%%##(((/,/(##%%#.
//                          ((##((#(*,(#%%%%%%%%%%%%#%%%&%%%%%%%&&&&%%%%%%%%%%%%%%%%%%%%%%%%%%%%&&&&&&&&&%%%%%%%%%%%%%#(((((((((,/(#####
//                           *(#%%%#(,,(#%%%%%####%%&&&&&&&&&&&&&&&&&&%%%%%%%%%%%%%%%%%%%%%%%%&&&&&&&&&&&&&%%%%%%%%%%%%%%##(//(///(((((
//                             *##%##(,*(###(#%%%%&&&&&&&&&&&&&&&&&&&&%%%%%%%%%%%%%%%%%%%%%&&&&&&&&&&&&&&&&&%%%%%%%%%%%%%##(((/(@@@@&&%%%%(*,
//                               *#(/*////(%%%%%%%&&&%##%%%&&&&&&&&&%%%%&&&&&&&&&&&%%%%%%%%%&&&&&&&&&&&&&&&&&&&&%%%%#((####(((*%&%%&@@@&&&&%%(*
//                                  ##&&(/(%%%%%&%((%&&&&&&&&&&&&&&&&&%&&&&&&&&&&&&&%%%%%%%&&&&&&&&&&&&&&&&&&&&&&&%%%%%#//(#(//%#&&%%%%%%&&&%%#/(%,
//                              *%&@@@&&%(*(%%%((%&&&&&&&&%&&&&&&&&&&&&&&&%%%%%%%%%%#######%%%%%&&&&&&&&&&&&&&%%%%%%%%##((/***(##(#%%%%%%%%%%%%%%##,
//                            /#%&&&&%####/,//(%%%%%%&&&%%%&&&&&&&&&&&&&&&%%%(//**//*,**/((#%%%%&&&&&&&&&&&%%%%%%#(####(((////##((##%%%%%%%%%######/.
//                       .//#%&&@&&&&%%#(//***(%%%%%%%##%%&&&&&&&&&&&&&&&&&%%%#(/***/*/((##%%%%%%%%%%%%%%%%%&&%%%%%#//((#/////#(/(###(#%%%%%%%%####(#/
//                       ,%&@@@@@@&&%((//////(*/#%%%((%&&&&&&&&&&&&&&&&&&&&&%%%%#########%%%%%%%%%&&&&&#/(#%%%%%%%##((//**//*(((//((((%%%%%%%%%%%###((/
//                    (###&@@@@&%%###((/////*(#//((/%&&&&&&&&&&%%%&&&&&&&&&&&(////////////(%&&&&&&&&&&&&%%%%%%%%#(((((*(/(/*//((**///(#%%%%%%%%%%###(((
//                   (#&@@@@@@@&&%%#((///////*(((**(#%%%&&&&&%&&&&&&&%/////////////////////////////%%%&&&&&&%##((((/*/#*/(((//((**////((#%%%%%%#####((/
//                  ,(#&@@@@@@@&&%#((////////*//*,*//(###%%%%%%%%%%&%%%%%%%%%%%%%%%%%%##########%%%%%%%%%%###((#(**/((/(/(((**(/**/((/(%%&&&%%%%#####(/
//                  #&&&&&@@@@@@&%%#(/////*//*///////(**/(##%%%%%%%%%%%%%%%%%%%##############%%%%%%%%%%###((((/*...,(#%(*(((//(/**/(//((#%%%%%%%%###((/
//                  ##%&@@@@@@&%%%%%(////////*/((//(#(/****/(##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##(((((*,,,,.,*,,,*//((///(**////##%%%##%%%%##((((/
//                  #%&@@@&&&@@@@@@&&#((/////**/((//(#///(/,,,*/(##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##(((((/*,,****,,***,,..*((//(/**///(#%%%&%%##%%##((((/
//                  #%&&&%&@@@@@@&&%%%##(//*//*/((///((*,,,../(/*,,*/((###%%%%%%%%%%%%%%%%%####((((/*,,******/***///*..,*//**/*/*/#&&&&&%#%%######(((((#
//                  #(##%&@@@@&&@@@@@@&%(//**/**/((*,,*/*,.,**(##(//*,,,*//(((###########((((((/**,,,******////////(/,..*/****//(#%&&&&&%%####(###(((((#
//                   /(#%&@&&%&@@@@@@%%###(//*/**/**/(/*..,/(//#%%###((/*,,,,****/////////**,,,,,,,***//**//(((((((((/..,////(%%%%%%%%%%%%####((##((((((
//                   ((#%&&%%&@@@@@&&&@@@@&#(///***/((*. ,/(##*(%%%%%%###((/**,,***,*,,,,,,,*,****////**//(((#(#(####(*.,/(#%@@@@&&&%%%%%######(##(((((/
//                   ((#%&%%%&&@@&&&@@@@@&%%%%%#(//##/, ./(#%%((#%%%%%%%%%####(((/**************/**/((/((((###########(/%&&%##%&@@&&&%%%%######((#(((((/#.
//                   ./#%&%%%%&&&%%&@@@&%%&@@@&&%#(((,,,*/#%%%%(#%%%%%%%%%%%%%%%%%######((#########((/(((########%&&&%%&@@@@&&%%%&&&&%%%%######((((((((/,*(*
//                 ,/,*#%%%##%&%%%%&&&&%%%&@@@&%%##%&&%#(//((((%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%####((/((#####%##%&@@@@@@%%&@@@&%%%%&&%%%%%%#####((((((((/.,,**.
//             ,//,...*#&%###%%%%%%&&%%%%&&@@&%#%&@@@&%##&&&%#(/(##((/(((((((((((////(%%((((((((((((((**/%&&&@@@&&&@@@&&%%&&&&%%%%%%%%##%%#####(((((///*..,,,,***(//,
//           **,......*#&%##%%%###%&%%##%&&&&%##%&@&&%#%&@@&%#((%&%#//#############(/*///(#############/*#&@&&@@&&&&@&&%##%&&&%%%%%%%%##%######(((((///......,/%(/*,*,
//       ,#*..........,(%###%%%###%%%%##%&&&%##%%&&%%#%&&&&&%##&@@&%/##############(/*/,/(############((*(%@&%&@@&&&&&&%%#%&&&%%%%%%%%#########((((//*. ......,(/,,//,*(
//    .*/,.............*(##%%%####%%%###%%%%###%%%%%##%%&&&%%#%&@@&#(##############(*,**/(############((*(&@&%&&&&%%&&%%##%&&&%%%%%%%%######((#((///*,  .....,*..,,*///,(,
//   /*,................,(#%%%###%%%####%%%%###%%%%###%%&&%%##%&@&%((#############((*,/*/(###########(((*(&@&%%&&%%%%%%%##%%&&&%%%%%%%######((##(/*,. ........,...,,,*/(//*.
// /*,...................,#&&%###%%%####%%%%###%%%####%%%%%###%&&&#((#############((/*/,/((###########((*(%&&%%&&%%%%%%%##%%&&&%%%%%%%######(((#(/.  ..........,,...,,,,//((,
// /,,****,**,****,*,,,,,*#%&%###%%%####%%%%###%%%####%%%%%%##%%&%#(###############(///*/(#############(/#%&%%%%%%%%%%%%%#%%&&%%%##%%%#######((((*,,,,*,,*,,,,,,***,****/(((#
// /,,****,**,****,*,,,,,*#%&%###%%%####%%%%###%%%####%%%%%%##%%&%#(###############(///*/(#############(/#%&%%%%%%%%%%%%%#%%&&%%%##%%%#######((((*,,,,*,,*,,,,,,***,****/(((#
// /,,****,**,****,*,,,,,*#%&%###%%%####%%%%###%%%####%%%%%%##%%&%#(###############(///*/(#############(/#%&%%%%%%%%%%%%%#%%&&%%%##%%%#######((((*,,,,*,,*,,,,,,***,****/(((#
// /,,****,**,****,*,,,,,*#%&%###%%%####%%%%###%%%####%%%%%%##%%&%#(###############(///*/(#############(/#%&%%%%%%%%%%%%%#%%&&%%%##%%%#######((((*,,,,*,,*,,,,,,***,****/(((#
// /,,****,**,****,*,,,,,*#%&%###%%%####%%%%###%%%####%%%%%%##%%&%#(###############(///*/(#############(/#%&%%%%%%%%%%%%%#%%&&%%%##%%%#######((((*,,,,*,,*,,,,,,***,****/(((#
// /,,****,**,****,*,,,,,*#%&%###%%%####%%%%###%%%####%%%%%%##%%&%#(###############(///*/(#############(/#%&%%%%%%%%%%%%%#%%&&%%%##%%%#######((((*,,,,*,,*,,,,,,***,****/(((#
// /,,****,**,****,*,,,,,*#%&%###%%%####%%%%###%%%####%%%%%%##%%&%#(###############(///*/(#############(/#%&%%%%%%%%%%%%%#%%&&%%%##%%%#######((((*,,,,*,,*,,,,,,***,****/(((#
    
#include <bits/stdc++.h>

using namespace std;
 
#define _ ios_base::sync_with_stdio(0);cin.tie(0);
#define all(a) (a).begin(), (a).end()
#define endl '\n'
#define ff first
#define ss second
#define pb push_back
 
typedef long long ll;
 
const int INF = 0x3f3f3f3f;
const ll LINF = 0x3f3f3f3f3f3f3f3fll;

vector<char> st = {'A', '2', '3', '4', '5', '6', '7', '8', '9', 'D', 'Q', 'J', 'K'};
vector<map<char, int>> players;

int winner, pass = 0;

bool haveWinner(){
    for(int i = 0; i < players.size(); i++){
        for(auto& it: players[i]){
            if(it.second == 4 && players[i].size() == 1){
                winner = i+1; return true;
            }
        }
    }

    return false;
}

void solve(){ _
    
    int n, k; cin >> n >> k; k--;
    players = vector<map<char, int>>(n);
    for(int i = 0; i < n; i++){
        int c = 4;
        while(c--){
            char aux; cin >> aux;
            players[i][aux]++;
        }
    }

    players[k]['C']++;

    while (!haveWinner()){
        int next = k+1; 
        if(next == players.size()) next = 0;

        if(players[k].find('C') != players[k].end() && pass == 1){
            players[k].erase('C'); players[next]['C']++;
            pass = 0;
        } else {
            pass = 1;
            set<char> less; int m = 4;
            for(auto it: players[k]) {
                if(it.first != 'C')m = min(m, it.second);
            }
            for(auto it: players[k]) {
                if(it.second == m) less.insert(it.first);
            }
            char toPass;
            for(auto a: st){
                if(less.find(a) != less.end()){
                    toPass = a; 
                    break;
                }
            }
            players[k][toPass]--; 
            if(players[k][toPass] == 0) players[k].erase(toPass);
            players[next][toPass]++;
        }

        k++; if(k == players.size()) k = 0;
    }

    cout << winner << endl;

}
 
int main(){ 
    int t = 1;
    while(t--) solve();
    exit(0);
}
